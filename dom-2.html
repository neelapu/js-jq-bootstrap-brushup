<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Score keeper</title>
    <style>
        .winner {
            color:green;
        }
    </style>
</head>
<body>
    
    <h1><span id="p1Display">0</span> to <span id="p2Display">0</span></h1>

    <p>Playing to: <span id="gameScore">5</span></p>

    <input type="number" min="3">
    <button id="p1">Player A</button>
    <button id="p2">Player B</button>
    <button id="reset">Reset</button>


    <script>
        var p1Button = document.querySelector("#p1");
        var p2Button = document.getElementById("p2");
        var reset = document.querySelector('#reset');

        var p1Display = document.querySelector("#p1Display");
        var p2Display = document.querySelector("#p2Display");
        var gameScore = document.querySelector("#gameScore");
        
        var p1Score = 0;
        var p2Score = 0;
        var gameOver = false;
        var winningScore = 5;

        var input = document.querySelector('input');




        p1Button.addEventListener("click", invokeFun);
        p2Button.addEventListener("click", invokeFun);
        input.addEventListener("change", function(){
            winningScore = Number(this.value);
            gameScore.textContent = winningScore;
            resetGame();

        });

        reset.addEventListener("click", resetGame);

        function invokeFun(){
            
            if(!gameOver){
                if(this.id === 'p1' ){
                    p1Score++;
                    if(p1Score === winningScore){
                        gameOver = true;
                        p1Display.classList.add('winner');
                        console.log("Game Over!");
                    }
                    p1Display.textContent = p1Score;

                }

                if(this.id === 'p2' ){
                    p2Score++;
                    if(p2Score === winningScore){
                        gameOver = true;
                        p2Display.classList.add('winner');
                        console.log("Game Over!");
                    }
                    p2Display.textContent = p2Score;

                }

            }
            // if(this.id === 'p1' ){
                
            //     p1Score++;
            //     p1Display.textContent = p1Score;
            //     return false;

            // }
            // if(this.id === 'p2'){
            //     p2Score++;
            //     p2Display.textContent = p2Score;
            //     return false;
            // }
           
        }
        
        function resetGame() {
            p1Score = 0;
            p2Score = 0;
            gameOver = false;
            p1Display.textContent = p1Score;
            p2Display.textContent = p2Score;
            p1Display.classList.remove('winner');
            p2Display.classList.remove('winner');
        }
    </script>
</body>
</html>